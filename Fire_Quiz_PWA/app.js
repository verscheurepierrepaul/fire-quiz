const app=document.getElementById('app');let q=JSON.parse(localStorage.getItem('activeQuestion'));if(!q){app.innerHTML='<p>Aucune question active.</p>';}else{let start;app.innerHTML=`<div class='card'><h2>${q.title}</h2><p>${q.body}</p><button id='start'>Répondre</button><input id='answer' style='display:none'/><button id='send' style='display:none'>Envoyer</button></div>`;document.getElementById('start').onclick=()=>{start=Date.now();answer.style.display='block';send.style.display='block';};document.getElementById('send').onclick=()=>{const t=Date.now()-start;const a=answer.value.trim().toLowerCase();const ok=a===q.answer.toLowerCase();app.innerHTML=ok?`<h2>✔️ Correct</h2><p>Temps: ${t} ms</p>`:`<h2>❌ Faux</h2><p>Temps: ${t} ms</p>`;};}if('serviceWorker'in navigator){navigator.serviceWorker.register('service-worker.js');}